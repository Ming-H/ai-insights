# AGENTS.md - AI Insights Hugo Blog

## Project Overview

AI Insights is a Hugo-based static site blog (Chinese language) showcasing AI daily digests and technical article series. Uses Congo theme with custom layouts.

**Tech Stack**: Hugo + Congo theme + Python sync scripts + GitHub Actions

## Build/Development Commands

```bash
# Local development server
hugo server --buildDrafts

# Build production site
hugo --minify

# Build with base URL override
hugo --baseURL "https://Ming-H.github.io/ai-insights/"
```

## Content Sync Commands

```bash
# Sync all content from content-forge-ai
python scripts/sync_content.py --all

# Sync only daily digests
python scripts/sync_content.py --daily

# Sync only series articles
python scripts/sync_content.py --series

# Create/update basic pages (index, about)
python scripts/sync_content.py --pages
```

## Project Structure

```
ai-insights/
├── content/              # Hugo content (Markdown)
│   ├── _index.md        # Homepage content
│   ├── about.md         # About page
│   ├── daily/           # Daily AI digests
│   └── series/          # Technical article series
│       ├── LLM_series/  # LLM series episodes
│       └── ML_series/   # ML series episodes
├── layouts/             # Custom Hugo templates
│   ├── _default/        # Default templates
│   ├── daily/           # Daily digest templates
│   ├── series/          # Series templates
│   ├── partials/        # Template partials
│   └── index.html       # Homepage layout
├── static/              # Static assets
├── themes/congo/        # Congo theme (git submodule)
├── scripts/             # Python sync scripts
└── hugo.toml           # Hugo configuration
```

## Code Style Guidelines

### Markdown Content

- **Front matter format**: YAML with `---` delimiters
- **Date format**: `YYYY-MM-DD` (ISO 8601)
- **Language**: Chinese (zh-cn) for content, English for technical terms
- **Title format**: `"AI每日热点 · YYYY年MM月DD日"` for daily digests

```yaml
---
title: "AI每日热点 · 2026年01月30日"
date: 2026-01-30
draft: false
tags: ['AI简报', '洞察: xxx']
categories: ['每日热点']
description: "AI每日热点 · 2026年01月30日"
---
```

### Hugo Templates (Go Templates)

- Use 2-space indentation
- Variables: `{{ .Variable }}` with spaces inside braces
- Partials: `{{ partial "name.html" . }}` with trailing dot for context
- Conditionals: Proper spacing and indentation

```html
{{ range .Site.RegularPages }}
  <div class="item">
    {{ if .Title }}
      <h2>{{ .Title }}</h2>
    {{ end }}
  </div>
{{ end }}
```

### Python Scripts

- Follow PEP 8 style guide
- Use type hints where appropriate
- Docstrings for all functions
- Path handling: Use `pathlib.Path` instead of string paths

```python
def sync_daily_digest() -> None:
    """Sync daily digests to Hugo content."""
    daily_path = CONTENT_FORGE_AI_PATH / "data" / "daily"
```

### CSS (Custom Layouts)

- Use CSS custom properties (variables) for theming
- Naming convention: `--category-name` (kebab-case)
- Responsive: Use `@media (max-width: 768px)` for mobile

```css
.hero {
  padding: var(--space-20) var(--space-6);
  background: var(--color-bg-secondary);
}
```

## File Naming Conventions

- **Content files**: `YYYY-MM-DD-index.md` for daily, `NNN-{title-slug}.md` for series
- **Templates**: lowercase with hyphen separation (e.g., `daily-list.html`)
- **Partials**: descriptive names (e.g., `header.html`, `footer.html`)
- **Python**: lowercase with underscores (e.g., `sync_content.py`)

## Hugo Configuration (hugo.toml)

Key settings to know:
- `defaultContentLanguage = "zh-cn"`
- `theme = 'congo'`
- `summaryLength = 0` (full content)
- `enableRobotsTXT = true`

## Content Types

1. **Daily digests** (`content/daily/`): Daily AI news summaries
   - Type: `daily`
   - Template: `layouts/daily/`

2. **Series articles** (`content/series/`): Technical learning series
   - Type: `series`
   - Template: `layouts/series/`
   - Custom front matter: `series`, `episode`, `difficulty`, `estimatedWords`

3. **Static pages** (`content/*.md`): About, index pages

## Git Workflow

- Main branch: `main`
- GitHub Actions deploys to GitHub Pages on push to main
- Auto-sync workflow runs daily via cron

## Important Notes

- Content is auto-generated by ContentForge AI and synced via Python script
- Do not manually edit auto-synced content in `content/daily/` or `content/series/`
- Custom layouts override theme defaults
- Congo theme is a git submodule in `themes/congo/`

## Testing

No automated test suite configured. Verify changes:
1. Run `hugo server --buildDrafts`
2. Check http://localhost:1313
3. Verify responsive design at mobile breakpoints
4. Check for broken links or missing assets

## Troubleshooting

- **Build errors**: Check Hugo version compatibility (use extended version)
- **Missing content**: Run `python scripts/sync_content.py --all`
- **Theme issues**: Ensure submodule is initialized: `git submodule update --init --recursive`
- **GitHub Pages 404**: Verify `baseURL` in hugo.toml matches repository name
