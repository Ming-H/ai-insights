{{ partial "header.html" . }}

{{ partial "shared-css.html" . }}

{{/* Check if this is the root series overview or an individual series */}}
{{ $isRootSeries := eq .CurrentSection.Kind "section" }}
{{ $hasSubsections := gt (len .Sections) 0 }}

<style>
  /* Series list specific styles */
  .series-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-5);
  }

  /* Article list specific styles */
  .article-list {
    list-style: none;
  }

  .article-item {
    display: flex;
    gap: var(--space-5);
    padding: var(--space-8) 0;
    border-bottom: 1px solid var(--color-border-light);
    align-items: flex-start;
  }

  .article-item:last-child {
    border-bottom: none;
  }

  .article-number {
    flex-shrink: 0;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);
    color: white;
    font-weight: var(--font-semibold);
    font-size: var(--text-sm);
    border-radius: var(--radius-lg);
  }

  .article-content {
    flex: 1;
    min-width: 0;
  }

  .article-title {
    font-size: var(--text-xl);
    font-weight: var(--font-medium);
    margin-bottom: var(--space-3);
  }

  .article-title a {
    color: var(--color-text-primary);
  }

  .article-title a:hover {
    color: var(--color-primary);
  }

  .article-meta {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    font-size: var(--text-sm);
    color: var(--color-text-tertiary);
    margin-bottom: var(--space-3);
    flex-wrap: wrap;
  }

  .article-badge {
    display: inline-flex;
    padding: var(--space-1) var(--space-3);
    background: var(--color-primary-light);
    color: var(--color-primary);
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    border-radius: var(--radius-full);
  }

  .article-badge-secondary {
    background: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
  }

  .article-description {
    font-size: var(--text-base);
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .article-item {
      flex-direction: column;
      gap: var(--space-4);
      padding: var(--space-6) 0;
    }

    .article-number {
      width: 48px;
      height: 48px;
      font-size: var(--text-xs);
    }
  }
</style>

<body>
  <div class="docs-layout">
    <aside class="docs-sidebar">
      <div class="docs-sidebar-section">
        <div class="docs-sidebar-title">LLM 系列</div>
        <a href="{{ "series/series_1_llm_foundation/" | relURL }}" class="docs-nav-link">LLM 基础</a>
        <a href="{{ "series/series_2_rag_technique/" | relURL }}" class="docs-nav-link">RAG 实战</a>
        <a href="{{ "series/series_3_agent_development/" | relURL }}" class="docs-nav-link">Agent 开发</a>
        <a href="{{ "series/series_4_prompt_engineering/" | relURL }}" class="docs-nav-link">Prompt 工程</a>
        <a href="{{ "series/series_5_model_deployment/" | relURL }}" class="docs-nav-link">模型部署</a>
        <a href="{{ "series/series_6_multimodal_frontier/" | relURL }}" class="docs-nav-link">多模态前沿</a>
        <a href="{{ "series/series_7_ai_coding_tools/" | relURL }}" class="docs-nav-link">AI 编程工具</a>
        <a href="{{ "series/series_8_ai_data_engineering/" | relURL }}" class="docs-nav-link">AI 数据工程</a>
        <a href="{{ "series/series_9_ai_applications/" | relURL }}" class="docs-nav-link">AI 应用场景</a>
        <a href="{{ "series/series_10_ai_infrastructure/" | relURL }}" class="docs-nav-link">AI 基础设施</a>
      </div>
      <div class="docs-sidebar-section">
        <div class="docs-sidebar-title">ML 系列</div>
        <a href="{{ "series/ml_series_1_ml_foundation/" | relURL }}" class="docs-nav-link">ML 基础</a>
        <a href="{{ "series/ml_series_2_deep_learning_foundation/" | relURL }}" class="docs-nav-link">深度学习</a>
        <a href="{{ "series/ml_series_3_computer_vision/" | relURL }}" class="docs-nav-link">计算机视觉</a>
        <a href="{{ "series/ml_series_4_natural_language_processing/" | relURL }}" class="docs-nav-link">自然语言处理</a>
        <a href="{{ "series/ml_series_5_reinforcement_learning/" | relURL }}" class="docs-nav-link">强化学习</a>
        <a href="{{ "series/ml_series_6_recommender_systems/" | relURL }}" class="docs-nav-link">推荐系统</a>
        <a href="{{ "series/ml_series_7_model_optimization/" | relURL }}" class="docs-nav-link">模型优化</a>
        <a href="{{ "series/ml_series_8_traditional_ml/" | relURL }}" class="docs-nav-link">传统 ML</a>
        <a href="{{ "series/ml_series_9_feature_engineering/" | relURL }}" class="docs-nav-link">特征工程</a>
        <a href="{{ "series/ml_series_10_advanced_topics/" | relURL }}" class="docs-nav-link">高级主题</a>
      </div>
    </aside>

    <main class="docs-main">
      <nav class="breadcrumb">
        <a href="{{ "/" | relURL }}">首页</a>
        <span class="breadcrumb-separator">›</span>
        {{ if $hasSubsections }}
          <a href="{{ "series/" | relURL }}">系列文章</a>
        {{ else }}
          <a href="{{ "series/" | relURL }}">系列文章</a>
          <span class="breadcrumb-separator">›</span>
          <span>{{ .Title }}</span>
        {{ end }}
      </nav>

      {{ if $hasSubsections }}
        /* Root series overview page */
        <h1>{{ .Title }}</h1>

        <div style="margin-bottom: var(--space-12); color: var(--color-text-secondary);">
          {{ .Content | emojify }}
        </div>

        {{ if .Data.Pages }}
          <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-6);">所有系列</h2>
          <div class="series-grid">
            {{ range .Pages }}
              <div class="card" style="cursor: pointer;" onclick="window.location.href = '{{ .Permalink }}'">
                <div style="font-size: var(--text-base); font-weight: var(--font-medium); margin-bottom: var(--space-2);">
                  <a href="{{ .Permalink }}" style="color: var(--color-text-primary);">{{ .Title }}</a>
                </div>
                {{ if .Params.description }}
                  <div style="font-size: var(--text-sm); color: var(--color-text-secondary); line-height: 1.5;">
                    {{ .Params.description }}
                  </div>
                {{ end }}
              </div>
            {{ end }}
          </div>
        {{ end }}
      {{ else }}
        /* Individual series page with articles */
        <div class="series-hero">
          <h1 class="series-hero-title" style="font-size: var(--text-4xl); font-weight: var(--font-bold); margin-bottom: var(--space-4);">{{ .Title }}</h1>
          {{ if .Params.description }}
            <p class="series-hero-description" style="font-size: var(--text-lg); color: var(--color-text-secondary); line-height: 1.7;">{{ .Params.description }}</p>
          {{ end }}
        </div>

        {{ if .Pages }}
          <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-8);">文章列表</h2>
          <ul class="article-list">
            {{ $pages := .Pages }}
            {{ if eq .Kind "section" }}
              {{ $pages = .RegularPages }}
            {{ end }}
            {{ range $pages.ByParam "episode" }}
              <li class="article-item">
                {{ if .Params.episode }}
                  <div class="article-number">{{ .Params.episode }}</div>
                {{ else }}
                  <div class="article-number">•</div>
                {{ end }}
                <div class="article-content">
                  <div class="article-title">
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                  </div>
                  <div class="article-meta">
                    {{ if .Params.episode }}
                      <span class="article-badge">第 {{ .Params.episode }} 期</span>
                    {{ end }}
                    {{ .Date.Format "2006-01-02" }}
                    {{ if .ReadingTime }}
                      <span>· {{ .ReadingTime }} 分钟阅读</span>
                    {{ end }}
                    {{ if .Params.difficulty }}
                      <span class="article-badge article-badge-secondary">{{ .Params.difficulty }}</span>
                    {{ end }}
                  </div>
                  {{ if .Params.description }}
                    <div class="article-description">{{ .Params.description }}</div>
                  {{ end }}
                </div>
              </li>
            {{ end }}
          </ul>
        {{ end }}
      {{ end }}
    </main>
  </div>

  {{ partial "footer.html" . }}
